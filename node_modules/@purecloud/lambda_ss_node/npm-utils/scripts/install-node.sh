#!/bin/sh

if [ ! -z $1 ]; then
    NODE_VERSION=v$1
fi

# Install NVM
if [ ! -d $HOME/.nvm ]; then
  echo -e "\n=====Installing NVM from source=====\n"
  ( git clone https://github.com/creationix/nvm.git $HOME/.nvm && cd $HOME/.nvm && git checkout `git describe --abbrev=0 --tags` )
fi

source $HOME/.nvm/nvm.sh
NVM_VERSION=$(nvm --version)

if [ -z $1 ]; then 
    echo -e "\n====NVM ${NVM_VERSION}=====Installing Latest Node Version=====\n"
else
    echo -e "\n====NVM ${NVM_VERSION}=====Installing Node ${NODE_VERSION}=====\n"
fi

nvm install ${NODE_VERSION:-node}
